{% extends 'gestion/base.html' %}
{% block title %}Liste des clients{% endblock %}

{% block content %}

<div class="container mt-4">
  <a href="{% url 'dashboard_vendeur' %}" class="btn btn-success">
            <i class="bi bi-file-earmark-arrow-down"></i> Accueil</a>
    <a href="{% url 'ajouter_client' %}" class="btn btn-success">
        <i class="bi bi-plus-circle"></i> Ajouter un Client
    </a>
</div>
  <h2 class="mb-4 text-center">Liste des clients</h2>
  <form method="get" class="mb-4 d-flex" role="search">
    <input type="text" name="q" value="{{ query }}" class="form-control me-2" placeholder="Rechercher un client...">
    <button type="submit" class="btn btn-outline-primary">Rechercher</button>
  </form>
  <div class="d-flex justify-content-between align-items-center mb-3">
    
    <a href="{% url 'export_clients_excel' %}" class="btn btn-outline-success">
      <i class="bi bi-file-earmark-excel-fill"></i> Exporter Excel
    </a>
    <a href="{% url 'export_clients_pdf' %}" class="btn btn-outline-danger ms-2">
        <i class="bi bi-file-earmark-pdf-fill"></i> Exporter PDF
      </a>
      
  </div>
  
  
  <table class="table table-bordered table-hover table-striped">
    <thead class="table-dark">
      <tr>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Téléphone</th>
        <th>Email</th>
        <th>Adresse</th>
        <th>Numéro pièce</th>
        <th>Actions</th>  

      </tr>
    </thead>
    <tbody>
      {% for client in clients %}
      <tr>
        <td>{{ client.nom }}</td>
        <td>{{ client.prenom }}</td>
        <td>{{ client.telephone }}</td>
        <td>{{ client.email|default:"-" }}</td>
        <td>{{ client.adresse|default:"-" }}</td>
        <td>{{ client.numero_piece_identite }}</td>
        <td>
            <a href="{% url 'modifier_client' client.id %}" class="btn btn-sm btn-warning me-2">
              <i class="bi bi-pencil-square"></i> 
            </a>
            <a href="{% url 'supprimer_client' client.id %}" class="btn btn-sm btn-danger">
                <i class="bi bi-trash-fill"></i> 
            </a>  
               
         </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="6" class="text-center">Aucun client trouvé.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
 
</div>
{% endblock %}
